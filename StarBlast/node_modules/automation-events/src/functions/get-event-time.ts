import { isCancelAndHoldAutomationEvent } from 'automation-events/src/guards/cancel-and-hold-automation-event';
import { isCancelScheduledValuesAutomationEvent } from 'automation-events/src/guards/cancel-scheduled-values-automation-event';
import { isExponentialRampToValueAutomationEvent } from 'automation-events/src/guards/exponential-ramp-to-value-automation-event';
import { isLinearRampToValueAutomationEvent } from 'automation-events/src/guards/linear-ramp-to-value-automation-event';
import { TAutomationEvent } from 'automation-events/src/types';

export const getEventTime = (automationEvent: TAutomationEvent): number => {
    if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {
        return automationEvent.cancelTime;
    }

    if (isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent)) {
        return automationEvent.endTime;
    }

    return automationEvent.startTime;
};
